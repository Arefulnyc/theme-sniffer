!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=7)}([function(e,t){e.exports=jQuery},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ajax=void 0;var n,a=r(0),s=(n=a)&&n.__esModule?n:{default:n};t.ajax=function(e,t,r){return s.default.ajax(e).done(t).fail(r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(0),o=(n=s)&&n.__esModule?n:{default:n},i=r(1);var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.SHOW_CLASS="is-shown",this.ERROR_CLASS="is-error",this.WARNING_CLASS="is-warning",this.DISABLED_CLASS="is-disabled",this.reportItemHeading=t.reportItemHeading,this.reportReportTable=t.reportReportTable,this.reportNoticeType=t.reportNoticeType,this.reportItemLine=t.reportItemLine,this.reportItemType=t.reportItemType,this.reportItemMessage=t.reportItemMessage,this.$sniffReport=t.sniffReport,this.$progressBar=t.progressBar,this.$snifferInfo=t.snifferInfo,this.$checkNotice=t.checkNotice,this.$percentageBar=t.percentageBar,this.$percentageText=t.percentageText,this.$percentageCount=t.percentageCount,this.$errorNotice=t.errorNotice,this.$startNotice=t.startNotice,this.$meterBar=t.meterBar,this.$reportItem=t.reportItem,this.nonce=t.nonce,this.runAction=t.runAction,this.runSniff=t.runSniff,this.count=0,this.ajaxAllow=!0}return a(e,[{key:"enableAjax",value:function(){this.ajaxAllow=!0,this.$snifferInfo.removeClass(this.SHOW_CLASS)}},{key:"preventAjax",value:function(e){this.ajaxAllow=!1,this.$percentageText.html(localizationObject.ajaxStopped),this.$percentageCount.removeClass(this.SHOW_CLASS),(0,o.default)(e).removeClass(this.DISABLED_CLASS)}},{key:"themeCheckRunPHPCS",value:function(e,t,r,n,a,s,c){var u=this,f={themeName:t,hideWarning:r,rawOutput:n,ignoreAnnotations:a,minimumPHPVersion:s,wpRulesets:c,action:this.runAction,nonce:this.nonce};return!!this.ajaxAllow&&(0,i.ajax)({type:"POST",url:ajaxurl,data:f,beforeSend:function(){u.$startNotice.addClass(u.SHOW_CLASS),u.$progressBar.removeClass(u.SHOW_CLASS),u.$errorNotice.removeClass(u.SHOW_CLASS),u.$checkNotice.removeClass(u.SHOW_CLASS),u.$percentageBar.removeClass(u.SHOW_CLASS),u.$percentageCount.empty(),u.$meterBar.css("width",0),u.$sniffReport.empty(),u.$snifferInfo.empty(),(0,o.default)(e).addClass(u.DISABLED_CLASS)}}).then(function(e){if(u.$progressBar.addClass(u.SHOW_CLASS),u.$percentageBar.addClass(u.SHOW_CLASS),u.$percentageCount.addClass(u.SHOW_CLASS),u.$meterBar.addClass(u.SHOW_CLASS),u.count=0,!0===e.success){e.data[0],e.data[1];var t=e.data[2];e.data[3],Object.keys(t).length,Object.values(t);u.$startNotice.removeClass(u.SHOW_CLASS),u.$percentageText.text(localizationObject.percentComplete)}else u.$progressBar.addClass(u.ERROR_CLASS),u.$snifferInfo.addClass(u.SHOW_CLASS),u.$snifferInfo.html(e.data[0].message)},function(e,t,r){throw new Error("Error: "+r+": "+e+" "+t)})}},{key:"renderJSON",value:function(e,t,r){var n=this;if(void 0===e.data||null===e.data)return" < div > "+localizationObject.errorReport+" < / div > ";var a=void 0;if(r.raw_output)a=e.data;else{if(void 0===e.data.totals||null===e.data.totals)return!1;if(0===e.data.totals.errors&&0===e.data.totals.warnings)return!1;var s=(a=t).find(this.reportItemHeading),i=a.find(this.reportReportTable),c=a.find(this.reportNoticeType),u=Object.keys(e.data.files)[0].split("/themes/")[1],f=Object.values(e.data.files)[0].messages;s.text(u),o.default.each(f,function(e,t){var r=t.line,a=t.message,s=t.type,o=c.clone().addClass(s.toLowerCase());o.find(n.reportItemLine).text(r),o.find(n.reportItemType).text(s),o.find(n.reportItemMessage).text(a),o.appendTo(i)}),c.remove()}return a}},{key:"bumpProgressBar",value:function(e,t){var r=(e/t*100).toFixed(2);this.$percentageCount.text(r+" % "),this.$meterBar.css("width",r+" % ")}}]),e}();t.default=c},function(e,t,r){"use strict";var n=s(r(0)),a=s(r(2));function s(e){return e&&e.__esModule?e:{default:e}}(0,n.default)(function(){var e={sniffReport:(0,n.default)(".js-sniff-report"),progressBar:(0,n.default)(".js-progress-bar"),snifferInfo:(0,n.default)(".js-sniffer-info"),checkNotice:(0,n.default)(".js-check-done"),percentageBar:(0,n.default)(".js-percentage-bar"),percentageText:(0,n.default)(".js-percentage-text"),percentageCount:(0,n.default)(".js-percentage-count"),errorNotice:(0,n.default)(".js-error-notice"),startNotice:(0,n.default)(".js-start-notice"),meterBar:(0,n.default)(".js-meter-bar"),reportItem:(0,n.default)(".js-report-item"),reportItemHeading:".js-report-item-heading",reportReportTable:".js-report-table",reportNoticeType:".js-report-notice-type",reportItemLine:".js-report-item-line",reportItemType:".js-report-item-type",reportItemMessage:".js-report-item-message",runAction:"run_sniffer",runSniff:"individual_sniff",nonce:(0,n.default)("#theme_sniffer_nonce").val()},t=new a.default(e);(0,n.default)(".js-start-check").on("click",function(){var e=(0,n.default)("select[name=themename]").val(),r=(0,n.default)("input[name=hide_warning]").is(":checked"),a=(0,n.default)("input[name=raw_output]").is(":checked"),s=(0,n.default)("input[name=ignore_annotations]").is(":checked"),o=(0,n.default)("select[name=minimum_php_version]").val(),i=[];(0,n.default)('input[name="selected_ruleset[]"]:checked').each(function(){i.push(this.value)}),t.enableAjax(),t.themeCheckRunPHPCS(this,e,r,a,s,o,i)}),(0,n.default)(".js-stop-check").on("click",function(){t.preventAjax(".js-start-check")}),(0,n.default)('select[name="themename"]').on("change",function(){t.preventAjax(".js-start-check"),e.progressBar.hasClass("is-shown")&&e.progressBar.removeClass("is-shown"),e.sniffReport.length&&e.sniffReport.empty()})})},,function(e,t,r){},function(e,t,r){"use strict";r(5),r(3)},function(e,t,r){e.exports=r(6)}]);